<header>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <link href="./dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="./assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
  <link href="grid.css" rel="stylesheet">
  <script src="./assets/js/ie-emulation-modes-warning.js"></script>
  <!-- up:bootstrap down: css/js-->
  <script type="text/javascript" src="./js/jquery-1.4.4.min.js"></script>
  <script type="text/javascript" src="demo.js"></script>
  <link href="demo.css" rel="stylesheet" type="text/css">
  <!--d3-->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
  <script src="//d3js.org/queue.v1.min.js"></script>
  <script src="./js/d3-legend.min.js"></script>
  <script src="//d3js.org/topojson.v1.min.js"></script>
  <!--google font-->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Slabo+27px' rel='stylesheet' type='text/css'>
</header>

<body>      
      <div class="header">
        <h1>5.9 million children under age five died in 2015.</br>
        That means, 16,000 million children under age five died everyday.</h1>
      </div>
      
      <nav class="main-nav">
        <h2>What Grabs Children's Life?</h2>
      </nav>
      
      <div class="main">
        <div id="arrow">
          <a class="next"></a>
          <a class="previous"></a>
        </div>

        <section>
        <div class="row">
              <div class="col-xs-7 col-md-6">
              <div class="btn-group" role="group" aria-label="...">
                    <button type="button" class="btn btn-default" id="WLD">World</button>
                    <button type="button" class="btn btn-default" id="Region">Region</button>
                    <button type="button" class="btn btn-default" id="Country">Country</button>
              </div><!--btn-->
              <div id="page1_line"></div>
              </div>
              <div class="col-xs-6 col-md-6">
              <div id="page1_map"></div>              
              </div>
        </div>
        </section>

        <section style="background-color:blue">...</section>
        
        <section>
        <div class="row">
              <div class="col-xs-7 col-md-6">
                 <div id="filters">
                   <a id="EAS">East Asia and Pacific</a>
                   <a id="SAS">South Asia</a>
                   <a id="ECS">Europe and Central Asia</a>
                   <a id="MEA">Middle East and North Africa</a>
                   <a id="SSF">Sub-Saharan Africa</a>
                   <a id="LCN">Latin America and Caribbean</a>
                   <a id="NAC">North America</a>
                 </div><!-- @end #filters -->
                 <div id="blurb">
                      <div id="default-blurb">
                        <h2>World</h2>
                        <p>The average under 5 mortality rate in the world in 2015 is 42.5 per thousand people.</p>
                    </div>
                    <div id="blurb-content"></div>
                 </div>
                 <div id="vis"></div>
              </div>

              <div class="col-xs-6 col-md-6">
                  <div class="btn-group" role="group" aria-label="...">
                    <button type="button" class="btn btn-default" id="literacy">Literacy</button>
                    <button type="button" class="btn btn-default" id="GNI">GNI</button>
                    <button type="button" class="btn btn-default" id="breastfeeding">breastfeeding</button>
                    <button type="button" class="btn btn-default" id="water">water</button>
                    <button type="button" class="btn btn-default" id="sanitation">sanitation</button>
                    <button type="button" class="btn btn-default" id="birth">birth</button>
                  </div>
                  <div id="page3_scatter"></div>  
              </div>
        </div>        
        </section>
      </div>    
    

</body>
<script type="text/javascript" src="./js/page1_line.js"></script>
<script type="text/javascript" src="./js/page1_map.js"></script>
<script type="text/javascript" src="./js/page3_line.js"></script>
<script type="text/javascript" src="./js/page3_scatter.js"></script>



<!--/////////////////////js for page structure/////////////////////////-->
<script type="text/javascript">
    var mn = $(".main-nav");
mns = "main-nav-scrolled";
hdr = $(".header").height();

$(window).scroll(function() {
  if ($(this).scrollTop() > hdr) {
    mn.addClass(mns);
  } else {
    mn.removeClass(mns);
  }
});

$(function(){
    
    var pagePositon = 0,
        sectionsSeclector = 'section',
        $scrollItems = $(sectionsSeclector),
        offsetTolorence = 30,
        pageMaxPosition = $scrollItems.length - 1;
    
    //Map the sections:
    $scrollItems.each(function(index,ele) { $(ele).attr("debog",index).data("pos",index); });

    // Bind to scroll
    $(window).bind('scroll',upPos);
    
    //Move on click:
    $('#arrow a').click(function(e){
        if ($(this).hasClass('next') && pagePositon+1 <= pageMaxPosition) {
            pagePositon++;
            $('html, body').stop().animate({ 
                  scrollTop: $scrollItems.eq(pagePositon).offset().top
            }, 300);
        }
        if ($(this).hasClass('previous') && pagePositon-1 >= 0) {
            pagePositon--;
            $('html, body').stop().animate({ 
                  scrollTop: $scrollItems.eq(pagePositon).offset().top
              }, 300);
            return false;
        }
    });
    
    //Update position func:
    function upPos(){
       var fromTop = $(this).scrollTop();
       var $cur = null;
        $scrollItems.each(function(index,ele){
            if ($(ele).offset().top < fromTop + offsetTolorence) $cur = $(ele);
        });
       if ($cur != null && pagePositon != $cur.data('pos')) {
           pagePositon = $cur.data('pos');
       }                   
    }
    
});

</script>