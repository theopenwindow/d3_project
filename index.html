<header>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <link href="./dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="./assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
  <script src="./assets/js/ie-emulation-modes-warning.js"></script>
  <!-- up:bootstrap down: css/js-->
  <script type="text/javascript" src="./js/jquery-1.4.4.min.js"></script>
  <script type="text/javascript" src="demo.js"></script>
  <link href="demo.css" rel="stylesheet" type="text/css">
  <!--d3-->
  <!--google font-->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Slabo+27px' rel='stylesheet' type='text/css'>
<!-- local -->
  <script type="text/javascript" src="d3/d3.js"></script>
  <script type="text/javascript" src="d3/d3.min.js"></script>
  <script type="text/javascript" src="d3/queue.js"></script>
  <script type="text/javascript" src="d3/jquery-1.9.1.min.js"></script>
  <script type="text/javascript" src="d3/topojson.v1.min.js"></script>
  <script type="text/javascript" src="d3/d3-legend.min.js"></script>



</header>

<body>      
      <div class="header">
        <h1>5.9 million children under age five died in 2015.</br>
        That means, 16,000 children under age five died everyday.</h1>
      </div>
      
      <nav class="main-nav">
        <h2>What Grabs Children's Life?</h2>
      </nav>
      
      <div class="main">
<!--         <div id="arrow">
          <a class="next"></a>
          <a class="previous"></a>
        </div> -->

        <section>
        <div class="row">
              <div class="col-xs-7 col-md-6">
                    <button id="World">World</button>
                    <button id="Region">Region</button>
                    <button id="Country">Country</button>
              <div id="page1_line"></div>
              </div>
              <div class="col-xs-6 col-md-6">
              <div id="page1_text">
                <p>It has been a long way to decrease the under five mortality rate(u5mr). In 1960, the average world u5mr is 182.7 per thousand births, while the rate for 2015 is 42.5 per thousand births.  The average u5mr for the world has fallen 76.7%. And regions are quite different from each other. Sub-suharan Africa is much higher than other areas around the world.</p>
              </div>
              <div id="page1_map"></div>              
              </div>
        </div>
        </section>

        <section>
        <div class="row">
              <div class="col-xs-7 col-md-8">
                 <div id="page2_timeline"></div>
              </div>

              <div class="col-xs-6 col-md-4">
                        <div id="page2_text">
                          <p>Part countries are showing quite a different trends from other countries. They didn't just go down all the way. Political instability and natural disasters like earthquake and  tsunami are main reasons which cause such unsettles.</p>
                        </div>
                        <button class="reveal" id="Haiti">Haiti</button>
                        <div class="toggle_container">
                          <div class="block"> Year 2010. HaitiEarthquake. Death toll: 100,000 - 316,000.</div>
                        </div>

                        <button class="reveal" id="Myanmar">Myanmar</button>
                        <div class="toggle_container">
                          <div class="block">Year 2008. Cyclone Bargis. 84,500 people were killed and 53,800 went missing.</div>
                        </div>

                        <button class="reveal" id="Tajikistan">Tajikistan</button>
                        <div class="toggle_container">
                          <div class="block">Year 1992. The Tajik Civil War(lastting 6years).
                          </div>
                        </div>

                        <button class="reveal" id="Korea">Korea Dem Rep</button>
                        <div class="toggle_container">
                          <div class="block">Year 1994. North Korean famine(lasting four years). Children, especially those under two years old, were the most affected by the famine and poverty of the period.
                          </div>
                        </div>

                        <button class="reveal" id="Indonesia">Indonesia</button>
                        <div class="toggle_container">
                          <div class="block">Year 2004. Indian Ocean earth quake and tsunami. 227,898 people died.
                          </div>
                        </div>

                        <button class="reveal" id="Armenia">Armenia</button>
                        <div class="toggle_container">
                          <div class="block">Year 1988. Spitak earthquake. 
                          </div>
                        </div>

                        <button class="reveal" id="Nicaragua">Nicaragua</button>
                        <div class="toggle_container">
                          <div class="block">Year 1998. Hurricane Mitch. 
                          </div>
                        </div>

                        <button class="reveal" id="Honduras">Honduras</button>
                        <div class="toggle_container">
                          <div class="block">Year 1998. Hurricane Mitch.</div>
                        </div>

                        <button class="reveal" id="Samoa">Samoa</button>
                        <div class="toggle_container">
                          <div class="block">Year 2009.  8.1 Mw submarine earthquake and tsunami.
                          </div>
                        </div>

                        <button class="reveal" id="Venezuela">Venezuela,RB</button>
                        <div class="toggle_container">
                          <div class="block">Year 1999. Vargas tragedy. Death toll: 10,000 - 30,000.</div>
                        </div>     
              </div>
        </div> 
        </section>
        
        <sesstion>
        <div id="page3_paragraph">
        <p>The under five mortality rate decreasing progress is accelerating, especially in sub-Saharan Africa. From 2000 to 2015, the decrease rate on global level is 3.8%, while the Sub-Saharan Africa is 4.1%.For Sub-Saharan Africa, the difference range is very  big. It almost covers all the range of the whole world. When it comes to the reasons, the GNI per capita is playing a big role. All the countries in Sub-Saharan Africa are at a low level on this part.</p>
        <p>Click more to discover the reasons for the region differences on the under five mortality rate.</p> 
        </div>
        <div class="row">
              <div class="col-md-4">
                 <div id="vis"></div>
              </div>
              <div class="col-md-2" id="region_btn">
              <p>Regions:</p>
                 <div id="filters">
                   <a id="EAS">East Asia and Pacific</a>
                   </br>
                   <a id="SAS">South Asia</a>
                   </br>
                   <a id="ECS">Europe and Central Asia</a>
                   </br>
                   <a id="MEA">Middle East and North Africa</a>
                   </br>
                   <a id="SSF">Sub-Saharan Africa</a>
                   </br>
                   <a id="LCN">Latin America and Caribbean</a>
                   </br>
                   <a id="NAC">North America</a>
                 </div><!-- @end #filters -->  
              </div>
              <div class="col-xs-6 col-md-4">
                    <div id="page3_scatter"></div>  
              </div>
              <div class="col-xs-6 col-md-2" id="index_btn">
                        <button id="literacy">Literacy</button></br>
                        <button id="GNI">GNI per Capita</button></br>
                        <button id="breastfeeding">Breastfeeding</button></br>
                        <button id="water">Drinking Water</button></br>
                        <button id="sanitation">Sanitation Facilities</button></br>
                        <button id="birth">Skilled Attendant at Birth</button></br>
              </div>
       
        </div>   <!-- end row for session 3-->   
        </section> <!-- end for session 3-->
    </div>    
    

</body>
<script type="text/javascript" src="./js/page1_line.js"></script>
<script type="text/javascript" src="./js/page1_map.js"></script>
<script type="text/javascript" src="./js/page2_timeline.js"></script>
<script type="text/javascript" src="./js/page3_line.js"></script>
<script type="text/javascript" src="./js/page3_scatter.js"></script>



<!--/////////////////////js for page structure/////////////////////////-->
<script type="text/javascript">
    var mn = $(".main-nav");
mns = "main-nav-scrolled";
hdr = $(".header").height();

$(window).scroll(function() {
  if ($(this).scrollTop() > hdr) {
    mn.addClass(mns);
  } else {
    mn.removeClass(mns);
  }
});

$(function(){
    
    var pagePositon = 0,
        sectionsSeclector = 'section',
        $scrollItems = $(sectionsSeclector),
        offsetTolorence = 30,
        pageMaxPosition = $scrollItems.length - 1;
    
    //Map the sections:
    $scrollItems.each(function(index,ele) { $(ele).attr("debog",index).data("pos",index); });

    // Bind to scroll
    $(window).bind('scroll',upPos);
    
    //Move on click:
    $('#arrow a').click(function(e){
        if ($(this).hasClass('next') && pagePositon+1 <= pageMaxPosition) {
            pagePositon++;
            $('html, body').stop().animate({ 
                  scrollTop: $scrollItems.eq(pagePositon).offset().top
            }, 300);
        }
        if ($(this).hasClass('previous') && pagePositon-1 >= 0) {
            pagePositon--;
            $('html, body').stop().animate({ 
                  scrollTop: $scrollItems.eq(pagePositon).offset().top
              }, 300);
            return false;
        }
    });
    
    //Update position func:
    function upPos(){
       var fromTop = $(this).scrollTop();
       var $cur = null;
        $scrollItems.each(function(index,ele){
            if ($(ele).offset().top < fromTop + offsetTolorence) $cur = $(ele);
        });
       if ($cur != null && pagePositon != $cur.data('pos')) {
           pagePositon = $cur.data('pos');
       }                   
    }
    
});

</script>